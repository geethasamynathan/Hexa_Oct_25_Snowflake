(()=>{var e={129:function(e,t){t.defaults={},t.set=function(e,r,o){var a=o||{},n=t.defaults,s=a.expires||n.expires,i=a.domain||n.domain,l=void 0!==a.path?a.path:void 0!==n.path?n.path:"/",c=void 0!==a.secure?a.secure:n.secure,u=void 0!==a.httponly?a.httponly:n.httponly,d=void 0!==a.samesite?a.samesite:n.samesite,f=s?new Date("number"==typeof s?new Date().getTime()+864e5*s:s):0;document.cookie=e.replace(/[^+#$&^`|]/g,encodeURIComponent).replace("(","%28").replace(")","%29")+"="+r.replace(/[^+#$&/:<-\[\]-}]/g,encodeURIComponent)+(f&&f.getTime()>=0?";expires="+f.toUTCString():"")+(i?";domain="+i:"")+(l?";path="+l:"")+(c?";secure":"")+(u?";httponly":"")+(d?";samesite="+d:"")},t.get=function(e){for(var t=document.cookie.split(";");t.length;){var r=t.pop(),o=r.indexOf("=");if(o=o<0?r.length:o,decodeURIComponent(r.slice(0,o).replace(/^\s+/,""))===e)return decodeURIComponent(r.slice(o+1))}return null},t.erase=function(e,r){t.set(e,"",{expires:-1,domain:r&&r.domain,path:r&&r.path,secure:0,httponly:0})},t.all=function(){for(var e={},t=document.cookie.split(";");t.length;){var r=t.pop(),o=r.indexOf("=");o=o<0?r.length:o,e[decodeURIComponent(r.slice(0,o).replace(/^\s+/,""))]=decodeURIComponent(r.slice(o+1))}return e}},112:function(e,t,r){"use strict";var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),n=this&&this.__awaiter||function(e,t,r,o){return new(r||(r=Promise))(function(a,n){function s(e){try{l(o.next(e))}catch(e){n(e)}}function i(e){try{l(o.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?a(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,i)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var r,o,a,n,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return n={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function i(n){return function(i){var l=[n,i];if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,o&&(a=2&l[0]?o.return:l[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,l[1])).done)return a;switch(o=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return s.label++,{value:l[1],done:!1};case 5:s.label++,o=l[1],l=[0];continue;case 7:l=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===l[0]||2===l[0])){s=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){s.label=l[1];break}if(6===l[0]&&s.label<a[1]){s.label=a[1],a=l;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(l);break}a[2]&&s.ops.pop(),s.trys.pop();continue}l=t.call(e,s)}catch(e){l=[6,e],o=0}finally{r=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}};Object.defineProperty(t,"__esModule",{value:!0}),t.NotRetryableError=t.RetryError=t.notEmpty=t.customizeRetry=t.customizeDecorator=t.retryDecorator=t.retry=t.wait=t.defaultRetryConfig=void 0;var i=r(741),l=function(e,t){return t},c=function(e,t){return e*t},u=function(e,t){return Math.pow(t,e)};function d(e){return n(this,void 0,void 0,function(){return s(this,function(t){return[2,new Promise(function(t){return setTimeout(t,e)})]})})}function f(e,r){return n(this,void 0,void 0,function(){var o;return s(this,function(a){return o=Object.assign({},t.defaultRetryConfig,r),[2,i.timeout(o.timeout,function(t){return function(e,t,r){return n(this,void 0,void 0,function(){var o,a,n,i,f,p,m;return s(this,function(s){switch(s.label){case 0:switch(t.backoff){case"EXPONENTIAL":a=u;break;case"FIXED":a=l;break;case"LINEAR":a=c;break;default:a=t.backoff}n="INFINITELY"===t.retries?Number.MAX_SAFE_INTEGER:t.retries,i=0,s.label=1;case 1:if(!(i<=n))return[3,8];s.label=2;case 2:return s.trys.push([2,4,,5]),[4,e()];case 3:if(f=s.sent(),t.until(f))return[2,f];return t.logger("Until condition not met by "+f),[3,5];case 4:if(p=s.sent(),!t.retryIf(p))throw p;if(p.name===g.name)throw new h("Met not retryable error. Last error: "+p,p);return o=p,t.logger("Retry failed: "+p.message),[3,5];case 5:return[4,d((m=a(i+1,t.delay))>t.maxBackOff?t.maxBackOff:m)];case 6:if(s.sent(),r())return[3,8];s.label=7;case 7:return i++,[3,1];case 8:throw new h("All retries failed. Last error: "+o,o)}})})}(e,o,t)})]})})}function p(e,t){return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return f(function(){return e.apply(void 0,r)},t)}}t.defaultRetryConfig={backoff:"FIXED",delay:100,logger:function(){},maxBackOff:3e5,retries:10,timeout:6e4,until:function(){return!0},retryIf:function(){return!0}},t.wait=d,t.retry=f,t.retryDecorator=p,t.customizeDecorator=function(e){return function(t,r){return p(t,Object.assign({},e,r))}},t.customizeRetry=function(e){return function(t,r){return f(t,Object.assign({},e,r))}},t.notEmpty=function(e){return Array.isArray(e)?e.length>0:null!=e};var h=function(e){function t(t,r){var o=e.call(this,t)||this;return o.lastError=r,o}return a(t,e),t}(Error);t.RetryError=h;var m=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.message=e,Error.apply(this,t)};m.prototype=Error();var g=function(e){function t(t){var r=e.call(this,t)||this;return Object.defineProperty(r,"name",{value:r.constructor.name}),r}return a(t,e),t}(m);t.NotRetryableError=g},741:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.timeout=void 0,t.timeout=function(e,t){if("INFINITELY"===e)return t(function(){return!1});var r=!1,o=function(){return r};return new Promise(function(a,n){var s=setTimeout(function(){r=!0,n(Error("Timeout after "+e+"ms"))},e);t(o).then(function(e){a(e),clearTimeout(s)},function(e){n(e),clearTimeout(s)})})}}},t={};function r(o){var a=t[o];if(void 0!==a)return a.exports;var n=t[o]={exports:{}};return e[o].call(n.exports,n,n.exports,r),n.exports}r.rv=()=>"1.3.12",r.ruid="bundler=rspack@1.3.12",(()=>{"use strict";let e,t,o;var a=r(112);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let s=Symbol.for("_sf_rumBuffer_consumer");class i{static getInstance(){return i._instance||(i._instance=new i),i._instance}getDatadogRum(){return window.DD_RUM}prefixDatadogName(e){return`bootstrap__${e}`}runOrEnqueue(e){let t=this.getDatadogRum();if(t)try{e(t)}catch(e){console.error("Error invoking Datadog RUM method immediately",e)}else this.buffer.length<i.MAX_BUFFER_SIZE?this.buffer.push(e):console.warn("Datadog rum buffer size exceeded, dropping event")}static _resetForTest(){delete window[s],i._instance=void 0}constructor(){n(this,"buffer",[]),n(this,"addAction",(e,t)=>{this.runOrEnqueue(r=>r.addAction(this.prefixDatadogName(e),t))}),n(this,"addError",(e,t)=>{this.runOrEnqueue(r=>r.addError(e,t))}),n(this,"addTiming",(e,t)=>{this.runOrEnqueue(r=>r.addTiming(this.prefixDatadogName(e),t))}),n(this,"addDurationVital",(e,t)=>{this.runOrEnqueue(r=>r.addDurationVital(this.prefixDatadogName(e),t))}),n(this,"flush",()=>{let e=this.getDatadogRum();if(e)try{this.buffer&&this.buffer.length>0&&(this.buffer.forEach(t=>{t(e)}),this.buffer.length=0)}catch(t){e.addError(t,{bootloaderError:"rum_buffer_consumer_flush"})}else console.error("Datadog RUM instance not available")}),window[s]={flush:this.flush}}}n(i,"_instance",void 0),n(i,"MAX_BUFFER_SIZE",1e3);let l=i.getInstance(),c=window.numeracy||{};Object.defineProperty(window,"numeracy",{get:()=>c,set:e=>(Object.assign(c,e),c),configurable:!0});let u=window.pageParams||{};Object.defineProperty(window,"pageParams",{get:()=>u,set:e=>(Object.assign(u,e),u),configurable:!0});let d={num:-1,time:"2025-10-02T11:17:32.467Z",version:"251002-1-74b197d2925",appServerUrl:""};window.build=d,c.clientVersion=d.version,c.appServerUrl=d.appServerUrl,c.injectableAfterLoad=!0;let f={retries:1,delay:10,timeout:"INFINITELY"},p="csrfToken",{setCsrfToken:h,getCsrfToken:m}=function(){let e=(()=>{try{let e=sessionStorage.getItem(p);if(!e)return{};return JSON.parse(e)}catch{return{}}})();return{setCsrfToken:function(t,r){e[t]=r,sessionStorage.setItem(p,JSON.stringify(e))},getCsrfToken:function(t){return e[t]}}}();var g=r(129);let w="snowflakeContext",y="authparams",b="snowflake_oauth_pkce";function v(){localStorage.removeItem(b)}async function S(e){let{appServerUrl:t,authToken:r}=e;try{let e={};r&&(e["X-Coldbrew-User-Token"]=r);let o=new URL(`${t}/v1/set-cookie`),a=await fetch(o.toString(),{method:"GET",credentials:"include",headers:e});if(!a.ok)return!1;let n=await a.json();return!0===n.success}catch(e){return!1}}async function k(e,t,r){try{let o=function(){try{let e=localStorage.getItem(b);if(!e)return null;return JSON.parse(e)}catch{return v(),null}}();if(!o)return!1;let a={oauthNonce:t,codeVerifier:o.codeVerifier,codeChallengeMethod:o.codeChallengeMethod,sessionExchangeCode:e},n=await fetch(`${r}/v1/session-exchange`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!n.ok)return!1;if((await n.json()).success)return v(),function(){let e=new URL(window.location.href),t=new URLSearchParams(e.hash.substring(1));t.delete("sessionExchangeCode"),t.delete("oauthNonce"),t.delete("appServerUrl");let r=t.toString();r?e.hash=r:e.hash="",window.history.replaceState(null,"",e.toString())}(),!0;return!1}catch{return!1}finally{v()}}let _=async e=>{let t=function(e){try{let t=e.hash.substring(1),r=new URLSearchParams(t),o=r.get("sessionExchangeCode"),a=r.get("oauthNonce"),n=r.get("appServerUrl");if(o&&a&&n)return{sessionExchangeCode:o,oauthNonce:a,appServerUrl:n};return null}catch{return null}}(e);if(t&&await k(t.sessionExchangeCode,t.oauthNonce,t.appServerUrl))return window.location.reload(),null;let r=e.searchParams.get(y),o=g.get(r||y),a=new URLSearchParams(e.hash.replace(/^#/u,"")).get(y),n=null;if(o)try{n=JSON.parse(atob(o))}catch(e){n=null}if(null===n&&a)try{n=JSON.parse(atob(a))}catch(e){return null}return(null==n?void 0:n.authToken)&&(null==n?void 0:n.appServerUrl)&&!t&&await S({appServerUrl:n.appServerUrl,authToken:n.authToken}),n},U=e=>{let t=sessionStorage.getItem(w)??g.get(w);return t?e[t]??null:null},E=e=>{let[t,r,o]=e.pathname.split("/").map(e=>e.toLowerCase());return[o,r]},I=(e,t)=>{let[r,o]=E(e),a=null;for(let e in t){var n,s;let i=t[e],l=null==(n=i.account)?void 0:n.toLowerCase(),c=null==(s=i.region)?void 0:s.toLowerCase();l===r&&c===o&&(!a||i.updated&&i.updated>(a.updated??0))&&(a=i)}return a},P=e=>{let[t,r,o]=e.pathname.split("/").map(e=>e.toLowerCase());return[r,o]},O=(e,t)=>{let[r,o]=P(e),a=null;for(let e in t){var n,s;let i=t[e],l=null==(n=i.snowflakeOrgName)?void 0:n.toLowerCase(),c=null==(s=i.accountAlias)?void 0:s.toLowerCase();l===r&&c===o&&(!a||i.updated&&i.updated>(a.updated??0))&&(a=i)}return a},C=(e,t)=>O(e,t)??I(e,t);function N(e,t){return`${e}::${t}`}let R=e=>N(e.username,e.url),x=async e=>{if("LOGIN_FAILED"===new URLSearchParams(window.location.search).get("error"))return null;let t=JSON.parse(localStorage.getItem("loggedInAccounts")??"{}"),r=U(t),o=await _(e)??function(e,t){return!e||t&&(e.region===t.region&&e.account===t.account||e.snowflakeOrgName===t.snowflakeOrgName&&e.accountAlias===t.accountAlias)?t:e}(C(e,t),r);if(o){r!==o&&(sessionStorage.removeItem("currentrole"),sessionStorage.removeItem("currentsecondaryroles"));let e=R(o);sessionStorage.setItem(w,e),g.set(w,e)}return o};function T(){var t,r;if("undefined"==typeof performance||"function"!=typeof performance.now)return Date.now();let o=void 0!==e?e:"number"==typeof performance.timeOrigin&&"number"==typeof(null==(t=performance.timing)?void 0:t.navigationStart)&&5e3>Math.abs(performance.timeOrigin-performance.timing.navigationStart)?e=performance.timeOrigin:"number"==typeof(null==(r=performance.timing)?void 0:r.navigationStart)?e=performance.timing.navigationStart:null;return null===o?Date.now():o+performance.now()}let F=e=>`1#${encodeURIComponent(e)}`,D=e=>!/[^\u0000-\u00ff]/g.test(e),j=[".privatelink.testdns.snowflakecomputing.com",".privatelink.snowflakecomputing.com",".privatelink.int.snowflakecomputing.com",".privatelink.int.snowflake.local",".privatelink.snowflake.local",".privatelink.snowflake.snowsaas.cn",".privatelink.snowflakecomputing.com.cn",".privatelink.snowflakecomputing.cn"];function $(e){return""!==(j.find(t=>null==e?void 0:e.endsWith(t))||"")}let A={userId:"X-Numeracy-UserId",clientVersion:"X-Numeracy-Client-Version",privateLinkHost:"X-Snowflake-Privatelink-Host",snowflakeContext:"X-Snowflake-Context",encodedSnowflakeContext:"X-Snowflake-Context-Encoded",snowflakeRole:"X-Snowflake-Role",encodedSnowflakeRole:"X-Snowflake-Role-Encoded",csrfToken:"X-CSRF-Token",encodedSnowflakeSecondaryRoles:"X-Snowflake-Secondary-Roles-Encoded"};function B(e,t,r,o){let a={...r??{}},n={...a.headers??{}};if(a.credentials="include",null!=t&&(n[A.userId]=`${t}`),c.clientVersion&&(n[A.clientVersion]=c.clientVersion),$(window.location.hostname)&&(n[A.privateLinkHost]=window.location.origin),e.userKey&&(n[A.snowflakeContext]=e.userKey),e.csrfToken&&(n[A.csrfToken]=e.csrfToken),e.decodedUserKey)try{n[A.encodedSnowflakeContext]=F(e.decodedUserKey)}catch(e){null==o||o.error(e,{message:"Failed to generate x-snowflake-context-encoded"})}if(e.role){D(e.role)&&(n[A.snowflakeRole]=e.role);try{n[A.encodedSnowflakeRole]=F(e.role)}catch(e){null==o||o.error(e,{message:"Failed to generate x-snowflake-role-encoded"})}}if(e.secondaryRoles)try{n[A.encodedSnowflakeSecondaryRoles]=F(e.secondaryRoles)}catch(e){null==o||o.error(e,{message:"Failed to generate X-Snowflake-Secondary-Roles-Encoded"})}return[a,n]}function L(e){let{args:t,observableName:r}=e;c.bootstrapFetches=c.bootstrapFetches||{},c.bootstrapFetches.observableFetches=c.bootstrapFetches.observableFetches||{fetches:[]};let o=window.localStorage.getItem("pinnedVersion");if(o){(1===t.length||null==t[1])&&(t[1]={});let e=t[1],r=new Headers(e.headers);r.set("X-Pinned-Version",o),e.headers=r}let a=T(),n=fetch(...t).then(e=>(l.addDurationVital(r,{startTime:a,duration:T()-a}),e.ok||l.addError(Error(`Fetch returned non-200 status for ${r}`),{bootloaderError:`fetch_not_ok_${r}`,bootloaderFetchStatus:e.status}),e)).catch(e=>{throw l.addError(e,{bootloaderError:`fetch_${r}`}),e});return c.bootstrapFetches.observableFetches.fetches.push({args:t,response:n,datadogName:`prefetch_bootstrap__${r}`,absolutePath:new URL(t[0].toString(),document.baseURI).href}),n}class V extends Error{constructor(e,t,r=[],o=0){super(e),n(this,"code",void 0),n(this,"details",void 0),n(this,"httpStatus",void 0),this.name="ConnectError",this.code=t,this.details=r,this.httpStatus=o}}let M="x-snowflake-beach";class q{static create(e){return q.instance||(q.instance=new q(e)),q.instance}static getInstance(){if(!q.instance)throw Error("BootloaderConnectFetchTransport not initialized. Call create() first.");return q.instance}async call(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{observableName:o}=r,a=async()=>{let r={headers:new Headers({"Content-Type":"application/json","Connect-Protocol-Version":"1"})};for(let e of[this.beachInterceptor,this.requestIdInterceptor,this.snowflakeContextInterceptor])await e(r);let a=new URL((0,this.getRequestContext)().appServerUrl);if(a.pathname&&"/"!==a.pathname){let t=a.pathname.endsWith("/")?a.pathname.slice(0,-1):a.pathname;a.pathname=`${t}${e}`}else a.pathname=e;return await L({args:[a.toString(),{method:"POST",headers:r.headers,body:JSON.stringify(t),credentials:"include"}],observableName:"pep_connect_fetch_"+(o?`_${o}`:"")})},n=await a();if(n.ok)return n.json();{let e={};try{e=await n.json()}catch{}throw new V(e.message||`HTTP error ${n.status}`,e.code||"unknown",e.details||[],n.status)}}static _resetForTests(){q.instance=void 0}constructor(e){n(this,"getRequestContext",void 0),n(this,"snowflakeContextInterceptor",void 0),n(this,"requestIdInterceptor",void 0),n(this,"beachInterceptor",void 0),this.getRequestContext=e,this.snowflakeContextInterceptor=e=>{let t=this.getRequestContext();t.decodedUserKey?e.headers.set(A.encodedSnowflakeContext,F(t.decodedUserKey)):l.addError(Error("No decoded user key in request context"),{bootloaderError:"decoded-user-key-missing"})},this.requestIdInterceptor=e=>{let t="undefined"!=typeof crypto&&"function"==typeof crypto.randomUUID?crypto.randomUUID():null;t&&e.headers.set("x-snowflake-request-id",t)},this.beachInterceptor=e=>{let t=localStorage.getItem("pepBeachBackendVersion"),r=localStorage.getItem("pepBeachCanary");t?e.headers.set(M,`beach-${t}`):r&&e.headers.set(M,"canary")}}}n(q,"instance",void 0);let W={isLaunchShadowEnabled(e){var t,r,o;return!!(null==e||null==(o=e.User)||null==(r=o.settings)||null==(t=r.snowflakeFeatures)?void 0:t._DP_UI_ENABLE_INVOKE_LAUNCH_SERVICE_IN_SHADOW)}},X=Symbol.for("_sf_fetchLaunchDataPromise");async function K(){return q.getInstance().call("/pep.launch.v1.LaunchService/GetLaunchData",{},{observableName:"fetch_launch_data"})}function H(e){return N(decodeURIComponent(escape(e.username)),e.url)}function J(e,t){var r,o;return{appServerUrl:(null==t||null==(r=t.PageParams)?void 0:r.appServerUrl)||e.appServerUrl,userKey:R(e),decodedUserKey:H(e),role:sessionStorage.getItem("currentrole")??void 0,csrfToken:null==t||null==(o=t.PageParams)?void 0:o.csrfToken}}function z(e){return null==e?"_default":"number"==typeof e?e.toString():e}function Y(e){let t=z(e);return window.localStorage.getItem(`_clientVersionOverride_${t}`)}let G=/^([0-9a-z_]*[\w-]*-)?([df][0-9a-zA-Z]+(?::[^@]+)?)$/u,Z=e=>(e||"").split("-").slice(-1)[0],Q=()=>!!window.location.hash&&window.location.hash.startsWith("#/"),ee="bootstrapData",et=new class{set(e){this.data=e;try{sessionStorage.setItem(ee,JSON.stringify(e))}catch(e){console.error(`Failed to store bootstrap data in session storage: ${e}`)}}get(){if(!this.data){let e=sessionStorage.getItem(ee);e&&(this.data=JSON.parse(e))}return structuredClone(this.data)}setUser(e){let t=this.get();t&&(t.User=e,this.set(t))}constructor(){n(this,"data",void 0)}},er=e=>{var t;return e.Org&&e.User?N(e.User.username,e.Org.url):(null==(t=e.PageParams)?void 0:t.appServerUrl)?`_::${e.PageParams.appServerUrl}`:null};class eo{}n(eo,"Namespace","cachedBootstrapData");class ea{async get(e){let t=ea.getCacheKey(e),r=await this.cachedBoostrapDataStorage.get(t);return r?ea.isCacheable(r)?r:(await this.cachedBoostrapDataStorage.delete(t),null):null}async set(e){let t=er(e);if(t&&ea.isCacheable(e))try{await this.cachedBoostrapDataStorage.set(ea.getCacheKey(t),this.createCachedBootstrapResponse(e))}catch(e){console.error(`Failed to store bootstrap data in storage: ${e}`)}finally{await this.cachedBoostrapDataStorage.garbageCollect()}}static isCacheable(e){var t,r;return null==(r=e.Org)||null==(t=r.settings)||!t.isPolaris}static getCacheKey(e){return[eo.Namespace,g.get("snowflake_apps_channel")||"main",g.get("snowflake_apps_channel_staging")||"_",e].join("::")}createCachedBootstrapResponse(e){let t={UpdatedAt:Date.now(),BuildVersion:e.BuildVersion,PageParams:e.PageParams};return e.Org&&(t.Org={settings:{isPolaris:e.Org.settings.isPolaris,snowflakeFeatures:e.Org.settings.snowflakeFeatures},account:e.Org.account,url:e.Org.url}),e.User&&(t.User={availableRoles:e.User.availableRoles,avatar:e.User.avatar,canModifyParameters:e.User.canModifyParameters,email:e.User.email,id:e.User.id,name:e.User.name,settings:e.User.settings,username:e.User.username,gsCreatedOn:e.User.gsCreatedOn,firstName:e.User.firstName,lastName:e.User.lastName}),t}constructor(e){n(this,"cachedBoostrapDataStorage",void 0),this.cachedBoostrapDataStorage=e}}let en=e=>N(e.username,e.url);class es extends eo{async set(e,t){try{await this.executeInDatabase(async r=>{let o=r.transaction(es.ObjectStoreName,"readwrite").objectStore(es.ObjectStoreName);await this.requestToPromise(o.put({key:e,response:t}))})}catch(e){console.error("Unable to add data to the database.",e)}}async get(e){try{return await this.executeInDatabase(async t=>{let r=t.transaction(es.ObjectStoreName,"readonly").objectStore(es.ObjectStoreName),o=await this.requestToPromise(r.get(e));return o&&o.response.UpdatedAt>this.twoWeeksAgo()?o.response:null})}catch(e){return console.error("Unable to retrieve data from the database.",e),null}}async delete(e){try{await this.executeInDatabase(async t=>{let r=t.transaction(es.ObjectStoreName,"readwrite").objectStore(es.ObjectStoreName);await this.requestToPromise(r.delete(e))})}catch(e){console.error("Unable to delete data from the database.",e)}}async garbageCollect(){try{await this.executeInDatabase(async e=>{let t=e.transaction(es.ObjectStoreName,"readwrite").objectStore(es.ObjectStoreName);for(let e of(await this.requestToPromise(t.getAll())))e.key.startsWith(eo.Namespace)&&e.response.UpdatedAt<=this.twoWeeksAgo()&&await this.requestToPromise(t.delete(e.key))}),this.cleanUpLocalStorage()}catch(e){console.log("Failed to invalidate stale caches.",e)}}cleanUpLocalStorage(){for(let e=0;e<localStorage.length;e++){let t=localStorage.key(e);null!=t&&t.startsWith(eo.Namespace)&&localStorage.removeItem(t)}}async executeInDatabase(e){let t=null;try{return t=await this.openDatabase(),await e(t)}finally{t&&t.close()}}openDatabase(){return new Promise((e,t)=>{let r=indexedDB.open(es.DatabaseName,es.DatabaseVersion);r.onerror=e=>{t(e)},r.onsuccess=t=>{e(t.target.result)},r.onupgradeneeded=e=>{let t=e.target.result;t.objectStoreNames.contains(es.ObjectStoreName)||t.createObjectStore(es.ObjectStoreName,{keyPath:"key"})}})}requestToPromise(e){return new Promise((t,r)=>{e.onsuccess=()=>t(e.result),e.onerror=()=>r(e.error)})}twoWeeksAgo(){return Date.now()-12096e5}}n(es,"DatabaseName","CachedBootstrapData"),n(es,"DatabaseVersion",1),n(es,"ObjectStoreName","responses");let ei=async e=>{let t=await el(e);if(t){var r,o,a,n;window.sessionStorage.setItem("ddAppId",(null==t||null==(o=t.bootstrapResponse)||null==(r=o.PageParams)?void 0:r.ddAppId)??""),window.sessionStorage.setItem("ddClientToken",(null==(n=t.bootstrapResponse)||null==(a=n.PageParams)?void 0:a.ddClientToken)??"")}return t};async function el(e){var t;let r=new ea(new es),o=await r.get(en(e));return o?(et.set(o),c.bootstrapFetches||(c.bootstrapFetches={}),c.bootstrapFetches.bootstrapResponse=o,t=e,setTimeout(async()=>{await eu(t)},0),{bootstrapResponse:o,fromCache:!0}):{bootstrapResponse:await eu(e),fromCache:!1}}async function ec(e){let t=await ed(e);return t&&(et.set(t),c.bootstrapFetches||(c.bootstrapFetches={}),c.bootstrapFetches.bootstrapResponse=t),t}async function eu(e){let t=await ec(e);if(t){let e=new ea(new es);await e.set(t)}return t}async function ed(e){let t=e.appServerUrl,r=J(e);try{return await (0,a.retry)(async()=>{let e=await L({args:[`${t}/bootstrap?deferSync=true`,{credentials:"include",headers:{...B(r)[1]}}],observableName:"deployment_bootstrap"});if(!e.ok)throw Error(e.statusText);let o=await e.json();if(!o.BuildVersion)throw Error("No build version specified");let a=e.headers.get("X-Pinned-Version");return window.localStorage.setItem("pinnedVersion",a??""),o},{...f,logger:e=>{l.addError(e,{bootloaderError:"deployment_bootstrap_fetch"})}})}catch(e){return console.error(`Failed to get version from deployment: ${e}`),null}}async function ef(e,r){var a,n,s,i,l,u,d;if((null==(a=e.PageParams)?void 0:a.enableBootstrapParametersPreloading)===!1)return;if(c.bootstrapFetches||(c.bootstrapFetches={}),c.bootstrapFetches.extendedBootstrapData=t,c.bootstrapFetches.guestBootstrapData=o,(null==(s=e.Org)||null==(n=s.settings)?void 0:n.snowflakeFeatures)&&(null==(l=e.User)||null==(i=l.settings)?void 0:i.snowflakeFeatures)){c.featureFlags={...e.Org.settings.snowflakeFeatures,...e.User.settings.snowflakeFeatures,...e.Org.settings.snowflakeParametersWithMetadata,...e.User.settings.snowflakeParametersWithMetadata};return}if(!t&&!o)return;let f=performance.now(),p=new AbortController;try{for(let e of r)fetch(e,{signal:p.signal}).catch(()=>{});let e=t?await t:await o;return c.featureFlags=(null==e||null==(u=e.clientParameters)?void 0:u.reduce((e,t)=>(e[t.name]=t,e),{}))??{},e}finally{let e=performance.now()-f;(null==(d=window.bootloaderAnalytics)?void 0:d.extendedBootstrapCall)&&(window.bootloaderAnalytics.extendedBootstrapCall.blockingTime=e),p.abort("Received an initial bootstrap response, no need to preload scripts anymore")}}async function ep(e,t){try{return await (0,a.retry)(async()=>{var r;let o=(null==t||null==(r=t.PageParams)?void 0:r.appServerUrl)||(null==e?void 0:e.appServerUrl)||(null==c?void 0:c.appServerUrl)||window.location.origin,a=await L({args:[`${o}/v0/guest/session/request/console/bootstrap-data-request?desc=parameters`,{credentials:"include",body:JSON.stringify({dataKinds:["CLIENT_PARAMS_INFO"]}),headers:{"x-snowflake-role":"PUBLIC","Content-Type":"application/json"},method:"POST"}],observableName:"deployment_extended_bootstrap_guest"});if(!a.ok)throw Error(a.statusText);return{clientParameters:(await a.json()).data.clientParamsInfo}},f)}catch(e){return console.error(`Failed to get extended bootstrap data from deployment: ${e}`),null}}async function eh(e,t){try{let r=J(e,t);return await (0,a.retry)(async()=>{let e=await L({args:[`${r.appServerUrl}/v0/fetch-extended-bootstrap-data`,{credentials:"include",headers:{...B(r)[1]},method:"POST"}],observableName:"deployment_extended_bootstrap"});if(!e.ok)throw Error(e.statusText);return await e.json()},f)}catch(e){return console.error(`Failed to get extended bootstrap data from deployment: ${e}`),null}}let em={NOT_FOUND:"404: Not Found"},eg=e=>{let{src:t,fetchPriority:r}=e;return(0,a.retry)(async()=>{let e=document.createElement("script"),o=new Promise((t,r)=>{e.onload=e=>t(e),e.onerror=(t,o,a,n,s)=>r(s||Error("string"==typeof t?t:`Error loading ${e.src}`))});e.src=t,e.defer=!0,r&&(e.fetchPriority=r),document.body.appendChild(e);try{await o}catch(t){var a;throw null==e||null==(a=e.parentNode)||a.removeChild(e),t}},{...f,logger:e=>{l.addError(e,{bootloaderError:"script_asset_load"})}})},ew=e=>{let{src:t}=e;return(0,a.retry)(async()=>{let e=document.createElement("link"),r=new Promise((t,r)=>{e.onload=t,e.onerror=(t,o,a,n,s)=>r(s||Error("string"==typeof t?t:`Error loading ${e.href}`))});e.rel="stylesheet",e.href=t,document.body.appendChild(e);try{await r}catch(t){var o;throw null==e||null==(o=e.parentNode)||o.removeChild(e),t}},{...f,logger:e=>{l.addError(e,{bootloaderError:"css_asset_load"})}})},ey=async e=>{let t,{version:r}=e;try{t=await (0,a.retry)(async()=>{let e=await L({args:[`/static/manifest-${r}.json`],observableName:"manifest"});if(!e.ok){if(404===e.status)throw new a.NotRetryableError(em.NOT_FOUND);throw Error(e.statusText)}return await e.json()},{...f,logger:e=>{l.addError(e,{bootloaderError:"build_manifest_load"})}})}catch(e){console.warn(`Failed to fetch build manifest: ${e}`)}return t},eb=e=>{let{buildManifest:t,entrypoint:r}=e;return(t.entrypoints[r]||[]).map(e=>`/static/${e}`)},ev=(e,t)=>{if("251002-1-74b197d2925"===e.BuildVersion&&null!==t)return Promise.resolve(function(e){let t={appServerUrl:e.appServerUrl,userKey:R(e),decodedUserKey:H(e),role:sessionStorage.getItem("currentrole")??void 0},r=function(){let e=window.location.pathname;if(e.endsWith("/")&&(e=e.slice(0,-1)),!Q())return e;let t=window.location.hash.split("/");if(2!==t.length)return e;let[r,o]=t;return o&&G.test(o)&&(e=e+"/"+Z(o)),e}()+window.location.search,o=`/bootstrap${r}`,[a,n]=B(t,void 0,void 0,console);return{fetchResponse:L({args:[`${t.appServerUrl}${o}`,{...a,headers:n}],observableName:"app_bootstrap"}),path:o,requestContext:t}}(t))},eS=async(e,t)=>{var r;let o=Y(null==e||null==(r=e.User)?void 0:r.id)||e.BuildVersion,a=function(e){var t;return(null==(t=e.Org)?void 0:t.settings.isPolaris)?"polaris":"numeracy"}(e),n=!t&&/^\/?$/iu.test(window.location.pathname);c.bootstrapFetches=c.bootstrapFetches||{};try{n||(c.bootstrapFetches.application=ev(e,t))}catch(e){c.bootstrapFetches.application=void 0,console.warn(`Failed to run bootstrap fetches: ${e}`)}let s=document.createComment(`License information for included third-party packages can be found at ${window.location.origin}/static/oss-licenses-${o}.json`);document.body.appendChild(s);let i=await ey({version:o});if(l.addTiming("build_manifest_loaded",T()),void 0===i)throw Error("Failed to load application");let u=[],d=eb({buildManifest:i,entrypoint:n?"signin":a}),f=[];for(let e of d)if(e.endsWith(".js")&&f.push(e),e.endsWith(".css")){let t=ew({src:e});u.push(t)}for(let t of(await ef(e,f),l.addTiming("parameters_loaded",T()),f)){let e=eg({src:t});u.push(e)}let p=await Promise.all(u);return l.addTiming("assets_loaded",T()),p},ek=()=>{let e=`
  <style>
    body {
      margin: 0;
    }

    .global-app-error {
      font-family: Inter, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      height: 100vh;
      background-color: #f7f7f7ff;
    }

    .primary-error-message {
      color: #1e252fff;
      font-size: 28px;
      font-weight: 700;
      margin-bottom: 0.5em;
    }

    .subtitle-error-message {
      color: #5d6a85ff;
      font-size: 16px;
      font-weight: 300;
      margin-top: 0;
      margin-bottom: 2em;
    }
  </style>
  <div class="global-app-error">
    <h1 class="primary-error-message">Something went wrong</h1>
    <h3 class="subtitle-error-message">Please refresh the page</h3>
  </div>
  `,t=document.getElementById("reactRoot");t?t.innerHTML=e:document.body.innerHTML=e},e_=async(e,r,a)=>{var n,s,i,c,u;let d=await x(a??new URL(window.location.href)),f=(null==d?void 0:d.appServerUrl)?await ei(d):null;l.addTiming("deployment_bootstrap_loaded",T());let p=(null==f?void 0:f.bootstrapResponse)||null;!function(e,t){e&&W.isLaunchShadowEnabled(t)&&(q.create(()=>J(e)),(async()=>{try{let e=K();window[X]=e,await e,l.addTiming("launch_data_loaded",T())}catch(e){l.addError(e,{bootloaderError:"launch_data_fetch"}),console.error(`Failed to get launch data: ${e}`)}})())}(d,p),(null==p||null==(n=p.PageParams)?void 0:n.appServerUrl)&&(null==p||null==(s=p.PageParams)?void 0:s.csrfToken)&&h(p.PageParams.appServerUrl,p.PageParams.csrfToken),function(e,r){var a,n;e&&(null==r||null==(a=r.PageParams)?void 0:a.csrfToken)&&(null==r||null==(n=r.PageParams)?void 0:n.enableBootstrapParametersPreloading)?(t=eh(e,r),o=void 0):("preprod.app.snowflake.com"===window.location.hostname||"app.snowflake.local"===window.location.hostname)&&.2>Math.random()?(o=ep(e,r),t=void 0):(t=void 0,o=void 0)}(d,p),window.NUMERACY_VERSION_OVERRIDE&&function(e,t){let r=z(e);window.localStorage.setItem(`_clientVersionOverride_${r}`,t)}(null==p||null==(c=p.User)?void 0:c.id,window.NUMERACY_VERSION_OVERRIDE);let m=Y(null==p||null==(i=p.User)?void 0:i.id);if(window.bootloaderAnalytics={versionAnalytics:{bootstrapAndBuiltinVersionMatch:(null==p?void 0:p.BuildVersion)===e,calledBootstrap:null!==p,versionOverrideEnabled:null!==m},bootstrapCall:{cacheHit:!!(null==f?void 0:f.fromCache)},extendedBootstrapCall:{blockingTime:void 0}},e.startsWith("PR-")){!function(e){let t=z(e);window.localStorage.removeItem(`_clientVersionOverride_${t}`)}(null==p||null==(u=p.User)?void 0:u.id),await r({...p,BuildVersion:e},d);return}return(null==p?void 0:p.BuildVersion)?void await r(p,d):await r({BuildVersion:e},d)};(async()=>{l.addTiming("start",T());let e=Object.fromEntries(new URLSearchParams(window.location.search));if(function(){let e=window.location.hostname;return e.startsWith("ai.snowflake.")||e.startsWith("preprod.ai.snowflake.")||e.startsWith("si-")&&$(e)}()&&(document.title="Snowflake Intelligence"),(e.numeracy_version_override||e._nv)&&(window.NUMERACY_VERSION_OVERRIDE=e.numeracy_version_override||e._nv),"entrypoint_version_override"in e&&"251002-1-74b197d2925"!==e.entrypoint_version_override){let t=await ey({version:e.entrypoint_version_override});if(void 0===t)throw Error("Failed to load application");let r=Object.keys(t).find(e=>e.startsWith("bootloader."));await eg({src:t[r].file});return}e_("251002-1-74b197d2925",async function(e,t){try{await eS(e,t)}catch(e){console.error(`Failed to load application: ${e}`),ek()}})})()})()})();
//# sourceMappingURL=https://s3-us-west-2.amazonaws.com/sfc-eng-static-web-ui-dev.snowflakecomputing.com/snapps/static/bootloader.308d6aa9.js.map